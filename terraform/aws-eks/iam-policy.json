{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "EKSAll",
      "Effect": "Allow",
      "Action": "eks:*",
      "Resource": "*"
    },
    {
      "Sid": "EC2VPC",
      "Effect": "Allow",
      "Action": [
        "ec2:*Vpc*",
        "ec2:*Subnet*",
        "ec2:*Gateway*",
        "ec2:*RouteTable*",
        "ec2:*Route",
        "ec2:*Address*",
        "ec2:*SecurityGroup*",
        "ec2:*Tags",
        "ec2:Describe*",
        "ec2:*LaunchTemplate*",
        "ec2:RunInstances",
        "ec2:TerminateInstances",
        "ec2:ModifyInstanceAttribute"
      ],
      "Resource": "*"
    },
    {
      "Sid": "AutoScalingAll",
      "Effect": "Allow",
      "Action": "autoscaling:*",
      "Resource": "*"
    },
    {
      "Sid": "IAMBasic",
      "Effect": "Allow",
      "Action": [
        "iam:*Role*",
        "iam:*Policy*",
        "iam:*OpenIDConnectProvider*",
        "iam:ListRoles",
        "iam:ListPolicies"
      ],
      "Resource": "*"
    },
    {
      "Sid": "IAMPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "arn:aws:iam::263851502019:role/*",
      "Condition": {
        "StringEquals": {
          "iam:PassedToService": [
            "eks.amazonaws.com",
            "ec2.amazonaws.com",
            "autoscaling.amazonaws.com"
          ]
        }
      }
    },
    {
      "Sid": "IAMServiceLinked",
      "Effect": "Allow",
      "Action": "iam:CreateServiceLinkedRole",
      "Resource": "arn:aws:iam::263851502019:role/aws-service-role/eks*.amazonaws.com/*",
      "Condition": {
        "StringLike": {
          "iam:AWSServiceName": ["eks.amazonaws.com", "eks-nodegroup.amazonaws.com"]
        }
      }
    },
    {
      "Sid": "LogsELBKMS",
      "Effect": "Allow",
      "Action": ["logs:*", "elasticloadbalancing:*", "kms:*"],
      "Resource": "*"
    },
    {
      "Sid": "STS",
      "Effect": "Allow",
      "Action": ["sts:AssumeRole", "sts:GetCallerIdentity"],
      "Resource": "*"
    }
  ]
}
